window.ooo||(window.ooo={}),ooo.form2JSON=function(e){var a={};if(e.getElementsByTagName("fieldset")[0]){var n,i,t=e.getElementsByTagName("fieldset");for(window.arrFld=[],N=0;N<t.length;N++){var l=t[N].name;l.indexOf("[]")>-1?(n=!0,arrFld.push(t[N]),console.log(arrFld)):i=!0}if(1!=n||1==i)for(N=0;N<t.length;N++){var f=t[N].name,m={},v=t[N].getElementsByTagName("input"),g=t[N].getElementsByTagName("textarea"),u=t[N].getElementsByTagName("select");if(v.length>0)for(z=0;z<v.length;z++){v[z].setAttribute("id","ifi");var o=v[z].name,s=v[z].value;"file"!=v[z].type&&v[z].value&&v[z].name&&(m[o]=s)}if(g.length>0)for(z=0;z<g.length;z++){g[z].setAttribute("id","ifi");var o=g[z].name,s=g[z].value;""!=g[z].name&&g[z].name&&(m[o]=s)}if(u.length>0)for(z=0;z<u.length;z++){u[z].setAttribute("id","ifi");var o=u[z].name,s=u[z].value;""!=u[z].name&&u[z].name&&(m[o]=s)}a[f]=m}if(1==n)for(N=0;N<arrFld.length;N++){var d=arrFld[N].name.replace("[]",""),h=arrFld[N].getElementsByTagName("fieldset");for(r=0;r<h.length;r++){var f=h[r].name,y={},v=h[r].getElementsByTagName("input"),g=h[r].getElementsByTagName("textarea"),u=h[r].getElementsByTagName("select");if(v.length>0)for(z=0;z<v.length;z++){v[z].setAttribute("id","ifi");var o=v[z].name,s=v[z].value;"file"!=v[z].type&&v[z].value&&v[z].name&&""!=v[z].name&&(y[o]=s)}if(u.length>0)for(z=0;z<u.length;z++){u[z].setAttribute("id","ifi");var o=u[z].name,s=u[z].value;""!=u[z].name&&u[z].name&&(y[o]=s)}if(g.length>0)for(z=0;z<g.length;z++){g[z].setAttribute("id","ifi");var o=g[z].name,s=g[z].value;""!=g[z].name&&g[z].name&&(y[o]=s)}a[d]||(a[d]=[]),a[d].push(y)}}}var g=e.getElementsByTagName("textarea"),N=e.getElementsByTagName("input"),u=e.getElementsByTagName("select"),B=function(e){for(var t=0;t<e.length;t++)if("file"!=e[t].type){var r=e[t].id;if(-1==r.indexOf("ifi")){var n=e[t];if(null!=n&&(""!=e[t].name||!e[t].name)){var i=e[t].name,l=e[t].value;a[i]=l,e[t].setAttribute("id","")}}}};return B(g),B(N),B(u),a};