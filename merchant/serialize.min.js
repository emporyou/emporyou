window.ooo||(window.ooo={}),ooo.form2JSON=function(e){var a={};if(e.getElementsByTagName("fieldset")[0]){var r,i,n,t=e.getElementsByTagName("fieldset");window.arrFld=[];for(var l=0;l<t.length;l++){var v=t[l].name;v.indexOf("[]")>-1?(r=!0,arrFld.push(t[l]),console.log(arrFld)):v.indexOf("{}")>-1?n=!0:i=!0}if(1!=r&&1==i)for(var l=0;l<t.length;l++){var f=t[l].name,m={},g=t[l].getElementsByTagName("input"),u=t[l].getElementsByTagName("textarea"),s=t[l].getElementsByTagName("select");if(g.length>0)for(var o=0;o<g.length;o++){g[o].setAttribute("id","ifi");var d=g[o].name,h=g[o].value;"file"!=g[o].type&&g[o].value&&g[o].name&&(m[d]=h)}if(u.length>0)for(var o=0;o<u.length;o++){u[o].setAttribute("id","ifi");var d=u[o].name,h=u[o].value;""!=u[o].name&&u[o].name&&(m[d]=h)}if(s.length>0)for(var o=0;o<s.length;o++){s[o].setAttribute("id","ifi");var d=s[o].name,h=s[o].value;""!=s[o].name&&s[o].name&&(m[d]=h)}a[f]=m}if(1==r)for(var l=0;l<arrFld.length;l++)for(var y=arrFld[l].name.replace("[]",""),N=arrFld[l].getElementsByTagName("fieldset"),B=0;B<N.length;B++){var f=N[B].name,E={},g=N[B].getElementsByTagName("input"),u=N[B].getElementsByTagName("textarea"),s=N[B].getElementsByTagName("select");if(g.length>0)for(var o=0;o<g.length;o++){g[o].setAttribute("id","ifi");var d=g[o].name,h=g[o].value;"file"!=g[o].type&&g[o].value&&g[o].name&&""!=g[o].name&&(E[d]=h)}if(s.length>0)for(var o=0;o<s.length;o++){s[o].setAttribute("id","ifi");var d=s[o].name,h=s[o].value;""!=s[o].name&&s[o].name&&(E[d]=h)}if(u.length>0)for(var o=0;o<u.length;o++){u[o].setAttribute("id","ifi");var d=u[o].name,h=u[o].value;""!=u[o].name&&u[o].name&&(E[d]=h)}a[y]||(a[y]=[]),a[y].push(E)}}var u=e.getElementsByTagName("textarea"),l=e.getElementsByTagName("input"),s=e.getElementsByTagName("select"),T=function(e){for(var t=0;t<e.length;t++)if("file"!=e[t].type){var r=e[t].id;if(-1==r.indexOf("ifi")){var i=e[t];if(null!=i&&(""!=e[t].name||!e[t].name)){var n=e[t].name,l=e[t].value;a[n]=l,e[t].setAttribute("id","")}}}};return T(u),T(l),T(s),a};